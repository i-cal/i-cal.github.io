(()=>{"use strict";var e,t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function n(){e=setInterval((()=>{H(!0)}),U.settings.autoSaveInterval)}function i(){clearInterval(e)}t.d({},{_G:()=>C,lo:()=>m,a1:()=>U,T3:()=>H,d8:()=>y,A4:()=>V});var a,o,s=$("#buyClickUpgradeButton"),r=$("#clickUpgradeIncreaseFlavorText"),l=$("#firstClickDoublersCount"),c={0:450,1:1800,2:5400,3:14400,4:36e3,5:86400,6:201600,7:460800,8:1036800,9:2304e3},g=!1;function d(){U.generation.firstClickDoublers<C.MAX_FIRST_CLICK_DOUBLER?(s.prop("disabled",!(U.currencies.units>=a)),s.text(`Buy (${M(a)}u)`)):(s.prop("disabled",!0),s.text("Maxed!")),l.text(`${U.generation.firstClickDoublers}/${C.MAX_FIRST_CLICK_DOUBLER}`)}function u(){a=c[U.generation.firstClickDoublers]}var v,T,E,S=$("#buyTier1UnitGenButton"),b=$("#tier1UnitGenCountText"),I=$("#tier1UnitGenDescriptionText"),k=$("#tier1UnitGenIncreaseFlavorText"),p={0:57600,1:175200,2:352800,3:710400,4:1488e3,5:3225600,6:7123200,7:15820800,8:35078400,9:77376e3},_=!1;function R(){U.generation.tier1UnitGenerators<C.MAX_TIER_1_UNIT_GENS?(S.prop("disabled",!(U.currencies.units>=v)),S.text(`Buy (${M(v)}u)`),I.text(`Increases idle production to ${M(0==U.generation.tier1UnitGeneratorPower?1e3:2*U.generation.tier1UnitGeneratorPower)}u/s`)):(S.prop("disabled",!0),S.text("Maxed!"),I.text(`Tier 1 idle production is maxed at ${M(U.generation.tier1UnitGeneratorPower)}u/s.`)),b.text(`${U.generation.tier1UnitGenerators}/${C.MAX_TIER_1_UNIT_GENS}`)}function f(){v=p[U.generation.tier1UnitGenerators]}function A(e){U.settings.consoleLogsEnabled&&console.log(e)}function M(e){var t;switch(U.settings.numberFormat){case C.COMMAS_NUMBER_FORMAT:t=e.toLocaleString();break;case C.PERIOD_NUMBER_FORMAT:t=e.toLocaleString("de-DE");break;case C.SCIENTIFIC_NUMBER_FORMAT:t=e>=1e3?e.toExponential(2).replace("+",""):e.toLocaleString();break;default:t=e.toLocaleString()}return t}function O(){if(U.generation.unitsPerSecond>0){var e=U.generation.unitsPerSecond/1e3*U.settings.tickRate;U.currencies.units+=e,V()}m==C.SHOP&&(U.generation.firstClickDoublers<C.MAX_FIRST_CLICK_DOUBLER&&d(),U.generation.tier1UnitGenerators<C.MAX_TIER_1_UNIT_GENS&&R()),function(){var e=$("#shopLink");U.generation.firstClickDoublers<C.MAX_FIRST_CLICK_DOUBLER&&U.currencies.units>=a||U.generation.tier1UnitGenerators<C.MAX_TIER_1_UNIT_GENS&&U.currencies.units>=v?e.addClass("purchaseAvailable"):e.removeClass("purchaseAvailable")}()}function h(){clearInterval(E),E=setInterval((()=>{O()}),U.settings.tickRate)}const C={UNITS_ABBR:"u",MIN_AUTOSAVE_INTERVAL:1e3,MAX_AUTOSAVE_INTERVAL:3e4,DEF_AUTOSAVE_INTERVAL:15e3,OP_PLS_NERF:.75,SAVEFILE_VERSION:14,HOME:"home",SHOP:"shop",SETTINGS:"settings",MAX_FIRST_CLICK_DOUBLER:10,MAX_TIER_1_UNIT_GENS:10,COMMAS_NUMBER_FORMAT:"commas",PERIOD_NUMBER_FORMAT:"periods",SCIENTIFIC_NUMBER_FORMAT:"scientific"};var U,m,w=!1,N=$("#homeLink"),P=$("#shopLink"),F=$("#settingsLink"),D=$("#mainDiv"),L=$("#shopDiv"),x=$("#settingsDiv"),G=$("#navUnitsText"),B={currencies:{units:0},generation:{clickPower:1,firstClickDoublers:0,unitsPerSecond:0,baseProdMult:1,tier1UnitGenerators:0,tier1UnitGeneratorPower:0,tier2UnitGenerators:0,tier3UnitGenerators:0},lastOpenPage:C.HOME,lastSaved:new Date,settings:{darkModeEnabled:!0,numberFormat:C.COMMAS_NUMBER_FORMAT,autoSaveEnabled:!0,autoSaveInterval:C.DEF_AUTOSAVE_INTERVAL,tickRate:50,customTickRateAllowed:!1,OPEnabled:!1,consoleLogsEnabled:!1},version:C.SAVEFILE_VERSION};function V(){G.text(`${M(Math.floor(U.currencies.units))}${C.UNITS_ABBR}${U.generation.unitsPerSecond>0?`+(${M(U.generation.unitsPerSecond)}u/s)`:""}+(${M(U.generation.clickPower)}u/c)`)}function H(e){!0===e&&A("Autosaving..."),U.lastSaved=new Date,U.lastOpenPage=m,U.version=C.SAVEFILE_VERSION,U.currencies.units=Math.floor(U.currencies.units),y("save",JSON.stringify(U),1825),A("Save finished. Data:"),A(U)}function y(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="expires="+i.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}$((function(){var e=function(e){e+="=";for(var t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}("save");function t(e,t){if(!w&&m!=e){switch(w=!0,void 0===t&&(t=400),$("nav").find("li").removeClass("active"),m){case C.HOME:D.slideToggle({complete:function(){n(t)},duration:t});break;case C.SHOP:L.slideToggle({complete:function(){n(t)},duration:t});break;case C.SETTINGS:x.slideToggle({complete:function(){n(t)},duration:t})}function n(t){switch(void 0===t&&(t=400),e){case C.HOME:A("Switching to Home page."),D.parent,D.slideToggle({duration:t});break;case C.SHOP:A("Switching to Shop page."),L.slideToggle({duration:t});break;case C.SETTINGS:A("Switching to Settings page."),x.slideToggle({duration:t});break;default:A("Switching to Home page."),D.parent,D.slideDown({duration:0}),e=C.HOME,U.lastOpenPage=C.HOME}m=e,w=!1,U.settings.autoSaveEnabled&&H()}}}m=C.HOME,""==e?U=B:(null!=(U=JSON.parse(e)).version&&U.version==C.SAVEFILE_VERSION||((U=B).version=C.SAVEFILE_VERSION,A("Hello, world!")),U.settings.OPEnabled&&function(){var e=((new Date).getTime()-new Date(U.lastSaved).getTime())/1e3,t=Math.floor(e*U.generation.unitsPerSecond*C.OP_PLS_NERF),n=$("#offlineGainsText");if(e>1){G.hide(),n.text(`You earned ${M(t)}u while you were away`),n.slideToggle();var i=setInterval((()=>{n.slideToggle(),G.slideDown(),n.text(""),clearInterval(i)}),3e3)}U.currencies.units+=t}(),t(U.lastOpenPage,0)),E=setInterval((()=>{O()}),U.settings.tickRate),function(){var e=$("#settingsSaveButton"),t=$("#settingsManualSaveFinished");e.on("click",(function(){H(),e.slideToggle(),t.slideToggle(),e.prop("disabled",!0);var n=setInterval((()=>{t.slideToggle(),clearInterval(n),e.prop("disabled",!1),e.slideToggle()}),3e3)}));var a=$("#settingsDarkModeToggle"),o=$("#settingsDarkModeFlavorText");a.prop("checked",U.settings.darkModeEnabled),U.settings.darkModeEnabled&&($("body").toggleClass("dark-mode"),$("nav").toggleClass("bg-light navbar-light navbar-dark bg-dark")),a.on("click",(function(){if($("body").toggleClass("dark-mode"),$("nav").toggleClass("bg-light navbar-light navbar-dark bg-dark"),U.settings.darkModeEnabled=a.prop("checked"),U.settings.autoSaveEnabled&&H(),!$(this).prop("checked")){o.text("FLASHBANG OUT"),o.slideToggle();var e=setInterval((()=>{o.slideToggle(),clearInterval(e)}),3e3)}}));var s=$("#settingsNumberFormat");s.val(U.settings.numberFormat),s.on("change",(function(){switch($(this).val()){case C.COMMAS_NUMBER_FORMAT:U.settings.numberFormat=C.COMMAS_NUMBER_FORMAT;break;case C.PERIOD_NUMBER_FORMAT:U.settings.numberFormat=C.PERIOD_NUMBER_FORMAT;break;case C.SCIENTIFIC_NUMBER_FORMAT:U.settings.numberFormat=C.SCIENTIFIC_NUMBER_FORMAT;break;default:U.settings.numberFormat=C.COMMAS_NUMBER_FORMAT}A(`Number format changed to ${U.settings.numberFormat}.`),U.generation.firstClickDoublers<C.MAX_FIRST_CLICK_DOUBLER&&d(),R(),U.settings.autoSaveEnabled&&H()}));var r=$("#settingAutosaveEnabled"),l=$(".autosaveDisabledFlavorText"),c=$("#settingAutosaveIntervalDiv");U.settings.autoSaveEnabled?(l.hide(),c.show()):(l.show(),c.hide()),r.on("click",(function(){A("Autosave enabled: "+r.prop("checked")),U.settings.autoSaveEnabled=r.prop("checked"),g.prop("disabled",!U.settings.autoSaveEnabled),c.slideToggle(),U.settings.autoSaveEnabled?(n(),l.slideToggle()):(i(),l.slideToggle()),H()}));var g=$("#settingAutosaveInterval"),u=$("#settingAutosaveIntervalCurrentValue");g.prop("disabled",!U.settings.autoSaveEnabled),g.val(U.settings.autoSaveInterval/1e3),u.text(U.settings.autoSaveInterval/1e3+" second"+(U.settings.autoSaveInterval/1e3!=1?"s":"")),g.on("input",(function(){var e=$(this).val();u.text(e+" second"+(1!=e?"s":""))})),g.on("change",(function(){var e=$(this).val();U.settings.autoSaveInterval=1e3*e,i(),n(),A("Autosave interval has been changed to: "+e+" second"+(1!=e?"s":""))}));var v=$("#settingCustomTickRateAllowed"),T=$("#settingCustomTickRate"),E=$("#saveNewCustomTickrateButton"),S=$("#settingCustomTickRateFlavorText");v.prop("checked",U.settings.customTickRateAllowed),U.settings.customTickRateAllowed&&(T.show(),E.show()),T.prop("disabled",!U.settings.customTickRateAllowed),T.val(U.settings.tickRate),E.prop("disabled",!U.settings.customTickRateAllowed),v.on("click",(function(){T.prop("disabled",!1),T.slideToggle(),E.prop("disabled",!1),E.slideToggle(),U.settings.customTickRateAllowed=v.prop("checked"),0==U.settings.customTickRateAllowed?(U.settings.tickRate=50,T.val(U.settings.tickRate),h(),A("Custom tick rate disabled.")):A("Custom tick rate enabled."),U.settings.autoSaveEnabled&&H()})),E.on("click",(function(){var e=T.val();S.text("Tick rate updated."),S.slideToggle(),E.prop("disabled",!0);var t=setInterval((()=>{S.slideToggle(),E.prop("disabled",!1),clearInterval(t)}),3e3);U.settings.tickRate=e,h(),A(`Tick rate has been changed to ${e}ms.`),U.settings.autoSaveEnabled&&H()}));var b=$("#settingOfflineProgressionEnabled"),I=$("#settingOfflineProgressionEnabledFlavorText");$("#settingOfflineProgressionDesc").text(`Get ${100*C.OP_PLS_NERF}% of your online earnings while offline`),b.prop("checked",U.settings.OPEnabled),b.on("click",(function(){var e=$(this).prop("checked");if(e){I.text("hehe ;)"),I.slideToggle();var t=setInterval((()=>{I.slideToggle(),clearInterval(t)}),3e3)}U.settings.OPEnabled=e,U.settings.autoSaveEnabled&&H()}));var k=$("#settingConsoleLogs"),p=$("#settingConsoleLogsFlavorText");k.prop("checked",U.settings.consoleLogsEnabled),k.on("click",(function(){if(U.settings.consoleLogsEnabled=$(this).prop("checked"),U.settings.consoleLogsEnabled){p.text("Console logs enabled!"),p.slideToggle();var e=setInterval((()=>{p.slideToggle(),clearInterval(e)}),3e3);A("Console logs enabled.")}U.settings.autoSaveEnabled&&H()}));var _=$("#settingsResetSaveInitialDiv"),f=$("#settingsResetSaveButton"),M=$("#settingsResetSaveConfirmDiv"),O=$("#settingsResetConfirm"),m=$("#settingsResetNevermind");f.on("click",(function(){_.slideToggle(),M.slideToggle()})),m.on("click",(function(){_.slideToggle(),M.slideToggle()})),O.on("click",(function(){y("save","",-1),location.reload()}))}(),u(),d(),s.on("click",(function(){U.currencies.units>=a&&(U.currencies.units-=a,U.generation.firstClickDoublers+=1,u(),d(),U.generation.clickPower*=2,V(),$("#unitButtonDescription").text(`${M(U.generation.clickPower)} units`),g&&(clearInterval(o),r.hide()),r.text(`Clicking power is now ${M(U.generation.clickPower)}u/c!`),r.slideDown(),g=!0,o=setInterval((()=>{r.slideUp(),g=!1,clearInterval(o)}),3e3))})),f(),R(),S.on("click",(function(){U.currencies.units>=v&&(U.currencies.units-=v,U.generation.tier1UnitGenerators+=1,U.generation.tier1UnitGeneratorPower=0==U.generation.tier1UnitGeneratorPower?1e3:2*U.generation.tier1UnitGeneratorPower,U.generation.unitsPerSecond=U.generation.tier1UnitGeneratorPower,f(),R(),V(),_&&(clearInterval(T),k.hide()),k.text(`Tier 1 Unit Generator power is now ${M(U.generation.tier1UnitGeneratorPower)}u/s!`),k.slideDown(),_=!0,T=setInterval((()=>{k.slideUp(),_=!1,clearInterval(T)}),3e3))})),$("#settingAutosaveEnabled").prop("checked",U.settings.autoSaveEnabled),(void 0===U.settings.autoSaveInterval||U.settings.autoSaveInterval<C.MIN_AUTOSAVE_INTERVAL||U.settings.autoSaveInterval>C.MAX_AUTOSAVE_INTERVAL)&&(U.settings.autoSaveInterval=15e3),U.settings.autoSaveEnabled&&n(),N.on("click",(function(){t(C.HOME),$(this).parent().addClass("active")})),P.on("click",(function(){t(C.SHOP),$(this).parent().addClass("active")})),F.on("click",(function(){t(C.SETTINGS),$(this).parent().addClass("active")}));var l=$("#btnClickMe"),c=$("#unitButtonDescription");U.generation.clickPower>1&&c.text(`${M(U.generation.clickPower)} units`),V(),l.on("click",(function(){U.currencies.units+=U.generation.clickPower*U.generation.baseProdMult,V()}))}))})();